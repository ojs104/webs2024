<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>퀴즈 이펙트06</title>

    <link rel="stylesheet" href="assets/css/quiz.css">
</head>
<body class="fixed">
    <header id="header" class="fix">
        <h1>
            <a href="../javascript12.html">Quiz7</a>
        </h1>
        <nav>
            <ul>
                <li><a href="quizEffect01.html">1</a></li>
                <li><a href="quizEffect02.html">2</a></li>
                <li><a href="quizEffect03.html">3</a></li>
                <li><a href="quizEffect04.html">4</a></li>
                <li><a href="quizEffect05.html">5</a></li>
                <li><a href="quizEffect06.html">6</a></li>
                <li class="active"><a href="quizEffect07.html">7</a></li>
            </ul>
        </nav>
    </header>
    <!-- //header -->

    <main id="main">
        <div class="cbt__box">
            <h2>기능사 시험</h2>
            <select id="cbtSelect1">
                <option value="gineungsaJC2005_02">정보처리기능사 2005년 2회</option>
                <option value="gineungsaJC2005_04">정보처리기능사 2005년 4회</option>
                <option value="gineungsaJC2005_05">정보처리기능사 2005년 5회</option>
                <option value="gineungsaJC2006_01">정보처리기능사 2006년 1회</option>
                <option value="gineungsaJC2006_02">정보처리기능사 2006년 2회</option>
                <option value="gineungsaJC2006_03">정보처리기능사 2006년 3회</option>
                <option value="gineungsaJC2006_05">정보처리기능사 2006년 5회</option>
                <option value="gineungsaJC2007_01">정보처리기능사 2007년 1회</option>
                <option value="gineungsaJC2007_02">정보처리기능사 2007년 2회</option>
                <option value="gineungsaJC2007_04">정보처리기능사 2007년 4회</option>
                <option value="gineungsaJC2007_05">정보처리기능사 2007년 5회</option>
                <option value="gineungsaJC2008_01">정보처리기능사 2008년 1회</option>
                <option value="gineungsaJC2008_02">정보처리기능사 2008년 2회</option>
                <option value="gineungsaJC2008_04">정보처리기능사 2008년 4회</option>
                <option value="gineungsaJC2009_01">정보처리기능사 2009년 1회</option>
                <option value="gineungsaJC2009_04">정보처리기능사 2009년 4회</option>
                <option value="gineungsaJC2009_05">정보처리기능사 2009년 5회</option>
                <option value="gineungsaJC2010_02">정보처리기능사 2010년 2회</option>
                <option value="gineungsaJC2010_05">정보처리기능사 2010년 5회</option>
                <option value="gineungsaJC2011_01">정보처리기능사 2011년 1회</option>
                <option value="gineungsaJC2011_02">정보처리기능사 2011년 2회</option>
                <option value="gineungsaJC2011_04">정보처리기능사 2011년 4회</option>
                <option value="gineungsaJC2011_05">정보처리기능사 2011년 5회</option>
            </select>
            <select id="cbtSelect2">
                <option value="gineungsaWD2009_05">웹디자인기능사 2009년 1회</option>
                <option value="gineungsaWD2010_01">웹디자인기능사 2010년 1회</option>
                <option value="gineungsaWD2010_02">웹디자인기능사 2010년 2회</option>
                <option value="gineungsaWD2010_04">웹디자인기능사 2010년 4회</option>
                <option value="gineungsaWD2010_05">웹디자인기능사 2010년 5회</option>
                <option value="gineungsaWD2011_01">웹디자인기능사 2011년 1회</option>
                <option value="gineungsaWD2011_02">웹디자인기능사 2011년 2회</option>
                <option value="gineungsaWD2011_04">웹디자인기능사 2011년 4회</option>
                <option value="gineungsaWD2011_05">웹디자인기능사 2011년 5회</option>
                <option value="gineungsaWD2012_02">웹디자인기능사 2012년 2회</option>
                <option value="gineungsaWD2012_04">웹디자인기능사 2012년 4회</option>
                <option value="gineungsaWD2013_02">웹디자인기능사 2013년 2회</option>
                <option value="gineungsaWD2013_04">웹디자인기능사 2013년 4회</option>
                <option value="gineungsaWD2013_05">웹디자인기능사 2013년 5회</option>
                <option value="gineungsaWD2014_01">웹디자인기능사 2014년 1회</option>
                <option value="gineungsaWD2014_04">웹디자인기능사 2014년 4회</option>
                <option value="gineungsaWD2014_05">웹디자인기능사 2014년 5회</option>
                <option value="gineungsaWD2015_01">웹디자인기능사 2015년 1회</option>
                <option value="gineungsaWD2015_03">웹디자인기능사 2015년 3회</option>
                <option value="gineungsaWD2015_04">웹디자인기능사 2015년 4회</option>
                <option value="gineungsaWD2015_05">웹디자인기능사 2015년 5회</option>
                <option value="gineungsaWD2016_01">웹디자인기능사 2016년 1회</option>
                <option value="gineungsaWD2016_04">웹디자인기능사 2016년 4회</option>
            </select>
            <p>
                당신의 이름은 <input type="text"> 입니다. <br>
                <em>정보처리기능사 2006년 2회</em> 문제를 선택했습니다. <br>
                시작하겠습니까?<br>
                <i>총 시간은 60분이며, 60점 이상 맞아야 합격입니다. </i>
            </p>
            <button class="cbt__box__start">시작하기</button>
        </div>

        <div class="cbt__wrap">
            <div class="cbt__header">
                <h1 class="cbt__title">2020년 1회 정보처리기사 기출문제</h1>
                <div class="cbt__time">남은 시간 <span>60분 00초</span></div>
            </div>
            <!-- //cbt__header -->

            <div class="cbt__conts">
                <div class="cbt__quiz">
                    <!-- <div class="cbt">
                        <div class="cbt__question">1. GoF(Gang of Four)의 디자인 패턴에서 행위 패턴에 속하는 것은?</div>
                        <div class="cbt__choices">
                            <input type="radio" id="choice1">
                            <label for="choice1"><span class="choice">Visitor</span></label>
                            <input type="radio" id="choice2">
                            <label for="choice1"><span class="choice">Builder</span></label>
                            <input type="radio" id="choice3">
                            <label for="choice1"><span class="choice">Prototype</span></label>
                            <input type="radio" id="choice4">
                            <label for="choice1"><span class="choice">Bridge</span></label>
                        </div>
                        <div class="cbt__desc">
                            객체지향 구성 요소에는 클래스(Class), 객체(Object), 인스턴스(Instance), 메시지(Message), 메소드(Method) 등이 있다.
                        </div>
                    </div> -->
                    
                </div>
            </div>
            <!-- //cbt__conts -->
            
            <div class="cbt__aside">
                <div class="cbt__name">수험자 : 오종석</div>
                <div class="cbt__submit">답안지 제출하기</div>
                <div class="cbt__omr">
                    <!-- <div class="omr">
                        <strong>1</strong>
                        <input type="radio" name="omr1" id="omr1">
                        <label for="omr1">
                            <span class="label-inner">1</span>
                        </label>
                        <input type="radio" name="omr2" id="omr2">
                        <label for="omr2">
                            <span class="label-inner">2</span>
                        </label>
                        <input type="radio" name="omr3" id="omr3">
                        <label for="omr3">
                            <span class="label-inner">3</span>
                        </label>
                        <input type="radio" name="omr4" id="omr4">
                        <label for="omr4">
                            <span class="label-inner">4</span>
                        </label>
                    </div> -->
                </div>
            </div>
            <!-- //cbt__aside -->
        </div>
    </main>
    <!-- //main -->

    <!-- <footer id="footer">
        <a href="mailto:000mar@naver.com">0000mar@naver.com</a>
    </footer> -->
    <!-- //footer -->

    <script>       
        // 문제 정보
        let quizInfo = [];  //모든 퀴즈 정보        
        let quizScore = 0;      //퀴즈 점수 
        let quizCorrect = 0;    //퀴즈 맞은 갯수 

        // 문제 가져오기
        const fetchQuiz = () => {
            fetch("https://webstoryboy.github.io/webs2024/json/gineungsaJC2011_05.json")
            .then(res => res.json())
            .then(items => {
                console.log(items);
                quizInfo = items.map((item, index) => {
                    const formattedQuiz = {
                        infoDate : item.time,
                        infoQuestion : item.question,
                        infoAnswer : item.correct_answer,
                        infoDesc: item.question_desc
                    }
                    return formattedQuiz;
                });
                console.log(quizInfo);
                updataQuiz(0);
            });
        }

        // 문제 출력
        const updataQuiz = (number) => {
                    let quizWrapTag = `
                        <div class="quiz">
                            <div class="quiz__header">
                                <span class="quiz__date">정보처리 ${quizInfo[number].infoDate}</span>
                            </div>
                            <div class="quiz__main">
                                <div class="quiz__question">
                                    ${number + 1}. ${quizInfo[number].infoQuestion}
                                    ${quizInfo[number].infoDesc ? `<div class="quiz__desc2">${quizInfo[number].infoDesc}</div>` : ''}
                                </div>
                                <div class="quiz__input">
                                    <input type="text" id="quizInput" placeholder="정답을 입력해주세요!">
                                </div>
                                <div class="quiz__answer none">${quizInfo[number].infoAnswer}</div>                        
                            </div>
                            <div class="quiz__footer">
                                <button class="quiz__confirm">정답 확인하기</button>
                                <button class="quiz__next none">다음 문제</button>
                            </div>
                        </div>
                    `;
                    quizWrap.innerHTML = quizWrapTag;

        
        // 선택자
        const quizConfirm = quizWrap.querySelector(".quiz__confirm");
            const quizNext = quizWrap.querySelector(".quiz__next");

            // 정답 확인 버튼
            quizConfirm.addEventListener("click", () => {
                checkAnswer();
                quizConfirm.classList.add("none");      
                quizNext.classList.remove("none");      
            });

            // 다음 문제 버튼
            quizNext.addEventListener("click", () => {
                if(currentIndex < quizInfo.length -1){
                    quizNext.classList.add("none");            
                    quizConfirm.classList.remove("none");      
                    currentIndex++;                           
                    updataQuiz(currentIndex);                 
                } else {
                    alert("퀴즈가 종료되었습니다.");
                }
            });
        };

        // 정답 확인
        const checkAnswer = () => {
            const quizElement = quizWrap.querySelector(".quiz")
            const quizConfirm = quizWrap.querySelector(".quiz__confirm");
            const quizNext = quizWrap.querySelector(".quiz__next");
            const quizInput = quizWrap.querySelector(".quiz__input input");
            const quizAnswer = quizWrap.querySelector(".quiz__answer");
            const userAnswer = quizInput.value;
            const correctAnswer = quizInfo[currentIndex].infoAnswer;

            if(userAnswer === correctAnswer){
                quizElement.classList.add("good");
                quizAnswer.classList.remove("none");
                quizConfirm.classList.add("none");
                quizInput.classList.add("none");
                quizNext.classList.remove("none");

                quizScore++;
                updateScore();
            } else {
                quizElement.classList.add("bad");
                quizAnswer.classList.remove("none");
                quizConfirm.classList.add("none");
                quizInput.classList.add("none");
                quizNext.classList.remove("none");
            }
        };
        // 점수 업데이트
        const updateScore = () => {
            const scoreElement = document.querySelector(".quiz__score");
            scoreElement.textContent = quizScore
        };
        // 페이지가 로드된 후 실행
        document.addEventListener("DOMContentLoaded", () => {
            fetchQuiz();
        });
    </script>

    
</body>
</html>